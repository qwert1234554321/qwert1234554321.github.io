<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

</head>

<body>
    <button onclick="F1()">картинка</button>
    <button onclick="F2()">ок</button>
    <canvas id="a" width="640" height="640"></canvas>
    <script>
        var a = document.getElementById('a');
        var c = a.getContext("2d");


        function F1() {
            // Создаем объект изображения
            var img = new Image();

            // Привязываем функцию к событию onload
            // Это указывает браузеру, что делать, когда изображение загружено
            img.onload = function () {
                c.drawImage(img, 0, 0);
            };

            // Загружаем файл изображения
            img.src = "2.jpg";
        }
        function F2() {
            var b = 0; w = 0;
            for (var x = 0; x <= 369; x++) {
                for (var y = 0; y <= 363; y++) {
                    var imgData = c.getImageData(x, y, 1, 1).data;
                    var r = imgData[0];
                    var g = imgData[1];
                    var b = imgData[2];
                    //console.log(r, g, b);
                         if ((r==255)&&(g==255)&&(b==255))
                        {
                            w++;
                        }
                        var p = c.createImageData(1,1);
		p.data[0]=255-r;
		p.data[1]=255-g;
		p.data[2]=255-b;
		p.data[3]=255;
		c.putImageData(p,x,y);

                }

            }
            alert(w);
            b=363*369-w;
            alert(b);
            
            
            alert((b*100)/(369*363)+'%');
        }
    </script>
</body>

</html>